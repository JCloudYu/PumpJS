!function(){function n(n,t,r){return t=t||"./components",r=r?$(r):null,new Promise(function(o,i){var u=t+"/"+n+"/";$.getJSON(u+"component.json?"+((new Date).getTime()/1e3|0),function(n){var t,c,s=[],a=[],f=n.components||[],p=new Promise(function(n){t=n}),h=[];f.forEach(function(n){var t,o=n.anchor?n.anchor:r;n.view&&(c=function(n,e){return function(){return new Promise(function(t,r){var o=$(e||"body"),i=e?o.before:o.prepend;$.get(n,function(n){$(n).each(function(n,e){i.call(o,e)}),t()},"text").fail(r)})}}(u+n.view,o),n.async?h.push(c):p=p.then(c)),n.style&&(t=u+n.style,$.inArray(t,a)<0&&(c=function(n,t){return function(){return e(n,"css",t)}}(t,o),h.push(c),a.push(t))),n.script&&(t=u+n.script,$.inArray(t,s)<0&&(c=function(n,t){return function(){return e(n,"js",t,!0)}}(t,o),h.push(c),s.push(t)))}),0==h.length&&h.push(function(){return new Promise(function(n){n()})}),p.then(function(){var n=[];return h.forEach(function(e){n.push(e())}),Promise.all(n)}).then(o)["catch"](i),t()}).fail(i)})}function e(n,e,t,r){return new Promise(function(o,i){var u,c;switch(e){case"css":u=document.createElement("link"),u.rel="stylesheet",u.type="text/css",u.href=n;break;case"js":u=document.createElement("script"),u.type="application/javascript",u.src=n;break;default:return null}u.onload=o,u.onerror=i,t&&(t=$(t)),t&&t.length>0?(t=t[0],c=t.parentElement):(t=null,c=$("js"==e?"body":"head")[0]),r?setTimeout(function(){c.insertBefore(u,t)},0):c.insertBefore(u,t)})}function t(n){return function(){var t=[];return n.forEach(function(n){var r,o;if(n===Object(n)){if(!n.path)return;r=n.path,o=n.type||"js"}else r=n,o="js";t.push(e(r,o))}),Promise.all(t)}}function r(n){return function(e){if(!Array.isArray(e))return!1;var t=n.then(o(e,!1));return t.pipe=r(t),t}}function o(n,e){var r,o=[],i=new Promise(function(n){r=n});return n.forEach(function(n){return"string"==typeof n?void o.push(n):n===Object(n)&&!Array.isArray(n)&&"function"!=typeof n&&n.path?void o.push(n):(i=i.then(t(o)),o=[],void("function"==typeof n&&(i=i.then(n))))}),o.length>0&&(i=i.then(t(o))),e?(setTimeout(r,0),i):function(){return setTimeout(r,0),i}}!function(){window.pipe=window.pipe||function(n){if(!Array.isArray(n))return!1;var e=o(n,!0);return e.pipe=r(e),e}}(),function(){var e="./components";window.pipe.components=window.pipe.components||function(t){if(!Array.isArray(t))return!1;var r=[];return t.forEach(function(t){var o=[];"string"==typeof t?o.push(t):o.push(t.name,t.basePath||e,t.anchor),r.push(n.apply(null,o))}),Promise.all(r)},window.pipe.components.base_path=function(n){e=n||"./components"}}()}();
