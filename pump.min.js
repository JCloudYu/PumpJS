!function(){"use strict";function n(){}function r(n){return"function"==typeof n}function t(n,r,t){t=t||!1;for(var u in n)n.hasOwnProperty(u)&&(r.hasOwnProperty(u)&&!t||(r[u]=n[u]))}var u,e=new Function("try{return this===global}catch(e){return false}")();!function(){var i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=i.length,f=function(){var n,r,t,u,e=[0];return function(f){for(f=f||"",n="",r=t=0,u=1;u>0;){if(t=e[r]+u,!(t>=o)){e[r]=t;break}e[r]=t-o,e[r+1]=e[r+1]||0,u=1,r++}for(r=0;r<e.length;r++)n=i.charAt(e[r])+n;return f+n}}(),c=function(t){var u={},e={},c=function(){for(var n="",r=5;r-- >0;)n+=i.charAt(o*Math.random()|0);return n}(),a=function(n,r,t,u,i){function o(n,r,t,u,e){return e?void setTimeout(function(){n.__fireEvent({type:t,target:null,source:r},u)},0):void n.__fireEvent({type:t,target:null,source:r},u)}var f;if(r){if(!(f=s(r)))return;o(f,n,t,u,i)}else for(var c in e)e.hasOwnProperty(c)&&o(e[c],n,t,u,i)},l=function(n,t,u,i){n=n||"",t=t||null,u=r(u)?u:null,i=arguments.length>2?!!i:!0;var o=e[n];return o&&t&&u?(o.__regEvent(t,u,i),!0):!1},s=function(n){return u[n]||e[n]||null},v=function(){var n={};return{__fireEvent:function(r,t){var u=["*",r.type];u.forEach(function(u){var e=n[u];Array.isArray(e)&&e.forEach(function(n){var u=function(){n.cb(r,t)};return n.async?void setTimeout(u,0):void u()})})},__regEvent:function(r,t,u){r.split(",").forEach(function(r){n.hasOwnProperty(r)||(n[r]=[]),n[r].push({cb:t,async:u})})}}},h=function(n){return{getId:function(){return n},on:function(t,u,e){for(var i=Array.prototype.slice.call(arguments),o=[],f=[],c=!1;i.length>0;){var a=i.shift();c||r(a)?(c=c||!0,f.push(a)):o.push(a)}return f.unshift(o.length>0?o.join(","):null),f.unshift(n),l.apply(null,f),this},fire:function(r,t,u){return u=u||!1,a(n,null,r,t,u),this},fireTarget:function(r,t,u,e){return e=e||!1,a(n,r,t,u,e),this}}},p=function(t,i){r(t)&&(i=t,t=void 0);var o=r(i),a=o?i:n,l=f(c),s=h(l);e[l]=v(),e[l]._interface=a(s)||{};var p=t||null;return p&&(u[p]=e[l]),s};return t=t||{},t.instantiate=p,t.fire=function(n,r,t){return t=t||!1,a(null,null,n,r,t),this},t.fireTarget=function(n,r,t,u){return u=u||!1,a(null,n,r,t,u),this},t.instance=function(n){var r=s(n);return r?r._interface:null},t},a=c();return u=function(){return this instanceof u?void c(this):a},t(a,u,!0),e?void(module.exports=u):(u.prevPump=function(n){return function(){return n}}(window.pump||void 0),void(window.pump=u))}()}();
